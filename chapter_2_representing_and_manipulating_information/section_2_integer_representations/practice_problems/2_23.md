# Practice 2.23

Consider the following C functions:

```c
int fun1(unsigned word) {
    return (int) ((word << 24) >> 24);
}

int fun2(unsigned word) {
    return ((int) word << 24) >> 24;
}
```

Assume these are executed as a 32-bit program on a machine that uses two's complement arithmetic. Assume also that right shifts of signed values are performed arithmetically, while right shifts of unsigned values are performed logically.

A. Fill in the following table showing the effect of these functions for several example arguments. You will find it more convenient to work with hexadecimal representation. Just remember that hex digits 8 through F have their most significant bits equal to 1.

| row     | w          | fun1(w) | fun2(w) |
| ------- | ---------- | ------- | --------|
| [A1.](#a1)| 0x00000076 | ___     | ___     | 
| [A2.](#a2)| 0x87654321 | ___     | ___     | 
| [A3.](#a3)| 0x000000C9 | ___     | ___     |  
| [A4.](#a4)| 0xEDCBA987 | ___     | ___     | 

B. Describe in words the useful computation each of these functions performs.

---

## A1.
We know that since every hexadecimal digit is 4 bits and we are shifting by 24 this is equivalent to 6 hex digits!

Evaluating the functions with these values:

```
fun1(0x00000076)
= (int) ((0x00000076 << 24) >> 24)
= (int) (0x76 >> 24)  (unsigned right shift)
= (int) (0x000000076)
----------------------
=> 0x00000076
```

```
fun2(0x00000076)
= ((int) 0x00000076 << 24) >> 24
= ((int) 0x76) >> 24
= 0x76 >> 24 (signed right shift)
----------------------
=> 0x00000076 since MSB is 0 (0x76 = 0111 0110)
```

## A2.

```
fun1(0x87654321)
= (int) ((0x87654321 << 24) >> 24)
= (int) (0x21 >> 24)  (unsigned right shift)
= (int) (0x00000021)
----------------------
=> 0x00000021
```

```
fun2(0x87654321)
= ((int) 0x87654321 << 24) >> 24
= ((int) 0x21) >> 24
= 0x21 >> 24 (signed right shift)
----------------------
=> 0x00000021 since MSB is 0 (0x21 = 0010 0001)
```

## A3.

```
fun1(0x000000C9)
= (int) ((0x000000C9 << 24) >> 24)
= (int) (0xC9 >> 24)  (unsigned right shift)
= (int) (0x000000C9)
----------------------
=> 0x000000C9
```

```
fun2(0x000000C9)
= ((int) 0x000000C9 << 24) >> 24
= ((int) 0xC9) >> 24
= 0xC9 >> 24 (signed right shift)
----------------------
=> 0xFFFFFFC9 since MSB is 1 (0xC9 = 1100 1001)
```

## A4.

```
fun1(0xEDCBA987)
= (int) ((0xEDCBA987 << 24) >> 24)
= (int) (0x87 >> 24)  (unsigned right shift)
= (int) (0x00000087)
----------------------
=> 0x00000087
```

```
fun2(0xEDCBA987)
= ((int) 0xEDCBA987 << 24) >> 24
= ((int) 0x87) >> 24
= 0x87 >> 24 (signed right shift)
----------------------
=> 0xFFFFFF87 since MSB is 1 (0x87 = 1000 0111)
```

## B.

`fun1`: Takes the unsigned int and extracts its lower 8 bits.

`fun2`: Takes the unsigned int and exttracts the lower 8 bits while also performing a sign extension.

